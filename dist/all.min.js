"use strict";var blogApp=angular.module("blogApp",["ui.router"]);blogApp.config(function(t,e){e.otherwise("/"),t.state("blog",{url:"/blog",templateUrl:"templates/blog.html"}).state("blog.login",{url:"/login",controller:"loginCtrl",templateUrl:"templates/partials/blog/login.html"}).state("blog.welcome",{url:"/welcome",controller:"blogListCtrl",templateUrl:"templates/partials/blog/welcome.html"}).state("blog.login.multiple",{url:"/todolist",views:{todolist:{controller:"gtdCtrl",templateUrl:"templates/todolist.html"}}}),t.state("todolist",{url:"/todolist",controller:"gtdCtrl",templateUrl:"templates/todolist.html"}),t.state("demo-angular-directive-jquery-ui-draggable",{url:"/demo-angular-directive-jquery-ui-draggable",templateUrl:"templates/demo-angular-directive-jquery-ui-draggable.html"}),t.state("mine-sweeper",{url:"/mine-sweeper",templateUrl:"templates/mine-sweeper.html"})}),blogApp.controller("loginCtrl",["$scope","loginManage",function(t,e){t.username="admin",t.password="admin",t.verify=function(){t.user===t.username&&t.password===t.code?e.login():(t.user="",t.code="",alert("Please try again."))}}]),blogApp.controller("blogListCtrl",["$scope","$http","loginManage",function(t,e,l){t.logout=function(){l.logout()},l.islogin?e.get("/assets/data/blogList.json").success(function(e){t.blogList=e}):t.logout()}]),blogApp.controller("gtdCtrl",["$scope","taskStorageService",function(t,e){t.taskList=e.getTasks(),t.add=function(){t.taskList.push({description:t.newTask,status:"new"}),t.newTask="",e.setTasks(t.taskList)},t.delete=function(l){t.taskList.splice(l,1),e.setTasks(t.taskList)},t.check=function(l){t.taskList[l].status="completed",e.setTasks(t.taskList)}}]),blogApp.directive("draggableVertical",function(){var t;return t=function(t,e){var l=$(e).children();$(l).draggable({axis:"y",containment:".drag-up-down",scroll:!1})},{restrict:"A",link:t}}),blogApp.directive("sortableList",function(){var t;return t=function(t,e){$(e).sortable()},{restrict:"C",link:t}}),blogApp.directive("draggableHorizon",function(){var t;return t=function(t,e){var l=angular.element(e.children());$(l).draggable({axis:"x",containment:".drag-left-right",scroll:!1})},{restrict:"E",link:t}}),Storage.prototype.setArray=function(t,e){return this.setItem(t,JSON.stringify(e))},Storage.prototype.getArray=function(t){return JSON.parse(this.getItem(t))},blogApp.service("taskStorageService",[function(){this.getTasks=function(){return localStorage.getArray("tasks")||new Array},this.setTasks=function(t){localStorage.setArray("tasks",t)}}]),blogApp.service("loginManage",["$location",function(t){this.islogin=!1,this.login=function(){this.islogin=!0,t.path("/blog/welcome")},this.logout=function(){this.islogin=!1,t.path("/blog/login")}}]);